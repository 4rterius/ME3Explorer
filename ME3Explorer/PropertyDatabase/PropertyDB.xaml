<global:WPFBase
    xmlns:global="clr-namespace:ME3Explorer" x:Class="ME3Explorer.PropertyDatabase.PropertyDB"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:local="clr-namespace:ME3Explorer.Dialogue_Editor"
        xmlns:SharedUI="clr-namespace:ME3Explorer.SharedUI"
        xmlns:facefx="clr-namespace:ME3Explorer.FaceFX"
        xmlns:Converters="clr-namespace:ME3Explorer.SharedUI.Converters"
        xmlns:system="clr-namespace:System;assembly=mscorlib"
        AllowDrop="True"
        Icon="/Resources/propertydatabase_256x256.ico"
        Title="Property Database WPF" Height="450" Width="900">
    <Window.Resources>
        <Converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <Converters:NullEnabledConverter x:Key="NullEnabledConverter"/>
        <Converters:NullVisibilityConverter x:Key="NullVisibilityConverter"/>
        <Converters:PackageEditorWPFActiveViewHighlightConverter x:Key="PackageEditorWPFActiveViewHighlightConverter"/>
        <Converters:ObjectStructPropertyTypeConverter x:Key="ObjectStructPropertyTypeConverter"/>
        <Converters:EntryFileTypeConverter x:Key="EntryFileTypeConverter"/>
        <Converters:EntryFileTypeIconPathConverter x:Key="EntryFileTypeIconPathConverter"/>
        <Converters:EmbeddedFileToolTipConverter x:Key="EmbeddedFileToolTipConverter"/>
        <Converters:GameTypeConverter x:Key="GameTypeConverter"/>
        <ContextMenu x:Key="MyMenu">
            <MenuItem Header="Open in Package Editor" ToolTip="Opens this class in Package Editor." />
        </ContextMenu>
    </Window.Resources>
    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="Database" Padding="4" >
                <MenuItem Header="Generate" Command="{Binding GenerateDBCommand}" InputGestureText="Ctrl+G" ToolTip="Scan Game Properties"/>
                <MenuItem Header="Save"  Command="{Binding SaveDBCommand}" InputGestureText="Ctrl+S" ToolTip="Save package file in-place" IsEnabled="{Binding Pcc, Converter={StaticResource NullEnabledConverter}}"/>
                <Separator />
                <MenuItem Header="ME1 Properties" Command="{Binding switchME1Command}"/>
                <MenuItem Header="ME2 Properties" Command="{Binding switchME2Command}"/>
                <MenuItem Header="ME3 Properties" Command="{Binding switchME3Command}"/>
            </MenuItem>

            <MenuItem Header="Tools" Padding="4">
                <MenuItem Header="Open Selected Class" Command=""/>
            </MenuItem>
        </Menu>
        <StatusBar Height="23" DockPanel.Dock="Bottom">
            <SharedUI:StatusBarGameIDIndicator GameType="ME3" Margin="0,-4"/>
            <StatusBarItem>
                <TextBlock x:Name="StatusBar_LeftMostText" Text="Currently looking at ME3 Properties"/>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Name="StatusBar_RightSide_LastSaved" Text="{Binding Pcc.LastSaved, StringFormat='Last saved at {0}'}" Foreground="Gray"/>
                </StackPanel>
            </StatusBarItem>
        </StatusBar>
        <DockPanel>
            <SharedUI:ListBoxScroll x:Name="Classes" DockPanel.Dock="Left" MinWidth="200">

            </SharedUI:ListBoxScroll>
            <SharedUI:ListBoxScroll x:Name="Properties" MinWidth="200">

            </SharedUI:ListBoxScroll>
            <SharedUI:ListBoxScroll x:Name="Values" DockPanel.Dock="Right" MinWidth="200">

            </SharedUI:ListBoxScroll>
        </DockPanel>
    </DockPanel>
</global:WPFBase>
